language: csharp
dist: bionic
sudo: required
mono: none
dotnet: 3.0
solution: RediSearchCore.sln
before_install:
  - docker pull redislabs/redisearch:latest
  - docker run -d -p 6379:6379 redislabs/redisearch:latest
script:
  - dotnet restore
  - dotnet build
  - dotnet test RediSearchCore.Tests/RediSearchCore.Tests.csproj
deploy:
  provider: heroku
  api_key: 677e4f64-e05d-4fc0-9f8c-8663c944654e
  app: redisearchcore
on:
  tags: true